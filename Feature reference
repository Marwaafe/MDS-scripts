nano make_feature_ref.py

import pandas as pd

# Path to antibodies Excel file 
antibody_file = "/net/beegfs/scratch/mafechkar/MDA_Data/metadata/Antibodies.xlsx"

# Read the Excel file (adjust sheet_name if necessary)
df = pd.read_excel(antibody_file, engine='openpyxl')

# Create the feature reference DataFrame
feature_df = pd.DataFrame({
    "id": df["Barcode"],
    "name": df["Gene Name"],
    "read": "AntibodyCapture",         
    "feature_type": "Antibody Capture"   
})

# Save the DataFrame as a CSV file
output_csv = "/net/beegfs/scratch/mafechkar/MDA_Data/metadata/feature_ref.csv"
feature_df.to_csv(output_csv, index=False)

print(f"Feature reference CSV file has been created at {output_csv}")

python3 make_feature_ref.py


Kopie van TotalSeq_C_Human_Universal_Cocktail_v1_137_Antibodies_399905_Barcodes


[mafechkar@ares MDS_Data]$ nano /net/beegfs/scratch/mafechkar/MDS_Data/metadata/make_feature_ref.py
[mafechkar@ares MDS_Data]$ python3 /net/beegfs/scratch/mafechkar/MDS_Data/metadata/make_feature_ref.py
Traceback (most recent call last):
  File "/net/beegfs/scratch/mafechkar/MDS_Data/metadata/make_feature_ref.py", line 5, in <module>
    df = pd.read_excel(antibody_file, engine='openpyxl')
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/trinity/home/mafechkar/miniconda3/lib/python3.12/site-packages/pandas/io/excel/_base.py", line 495, in read_excel
    io = ExcelFile(
         ^^^^^^^^^^
  File "/trinity/home/mafechkar/miniconda3/lib/python3.12/site-packages/pandas/io/excel/_base.py", line 1567, in __init__
    self._reader = self._engines[engine](
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/trinity/home/mafechkar/miniconda3/lib/python3.12/site-packages/pandas/io/excel/_openpyxl.py", line 553, in __init__
    super().__init__(
  File "/trinity/home/mafechkar/miniconda3/lib/python3.12/site-packages/pandas/io/excel/_base.py", line 563, in __init__
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "/trinity/home/mafechkar/miniconda3/lib/python3.12/site-packages/pandas/io/common.py", line 882, in get_handle
    handle = open(handle, ioargs.mode)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/net/beegfs/scratch/mafechkar/MDS_Data/metadata/Kopie van TotalSeq_C_Human_Universal_Cocktail_v1_137_Antibodies_399905_Barcodes'
[mafechkar@ares MDS_Data]$

